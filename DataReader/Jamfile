########### DataReader Jamfile #############
path-constant DATAREADER : . ;

project ComPWA/DataReader 
	: requirements
		<include>$(ROOT_INC_PATH)
		<linkflags>$(ROOTLIBS)
		<linkflags>-lEG
;

sources = [ glob *.cpp : *.Test.cpp ] ;
# libDataReader.so will consist of these packages:
if $(build_RootReader) && $(build_RootReader) != 0
{
	build-project RootReader ;
	sources = $(sources) RootReader/RootReader.cpp ;
}
if $(build_AsciiReader) && $(build_AsciiReader) != 0
{
	build-project AsciiReader ;
	sources = $(sources) [ glob AsciiReader/*.cpp : *.Test.cpp ] ;
}

# Build libDataReader.so
lib DataReader : $(sources) $(TOP)/Core//ComPWA ;

install dist : DataReader : <location>$(TOP)/lib ;
