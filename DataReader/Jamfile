########### DataReader Jamfile #############
path-constant DATAREADER : . ;

project ComPWA/DataReader 
	: requirements
	  <library>/root
;

sources = [ glob *.cpp : *.Test.cpp ] ;
# libDataReader.so will consist of these packages:
if $(build_RootReader) && $(build_RootReader) != 0
{
	build-project RootReader ;
	sources = $(sources) RootReader/RootReader.cpp ;
}
if $(build_AsciiReader) && $(build_AsciiReader) != 0
{
	build-project AsciiReader ;
	sources = $(sources) [ glob AsciiReader/*.cpp : *.Test.cpp ] ;
}
if $(build_RootGenerator) && $(build_RootGenerator) != 0
{
	build-project RootGenerator ;
	sources = $(sources) $(DATAREADER)/RootGenerator//RootGenerator ;
}

# Build libDataReader.so
lib DataReader : $(sources) $(TOP)/Core//ComPWA ;

install dist : DataReader : <location>$(TOP)/lib ;
