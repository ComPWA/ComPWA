########### test applications #############

project ComPWA/executables/test
	: requirements 
	  <include>.

       <library>/boost//program_options
       <library>/boost//filesystem
       <library>/boost//serialization
      <library>/boost//thread
      <library>/boost//system
      <library>/boost//date_time
      <library>/boost//log
      <library>/boost//log_setup


	  <library>/root
	  <linkflags>-lRooFit
	  <linkflags>-lGui
	  <linkflags>-lRooFitCore
	  <linkflags>-lboost_unit_test_framework
	  <library>$(TOP)//qft++ ;
	  
lib test : 
        [ glob *.cpp : *App.cpp ]
        $(TOP)/Optimizer//Optimizer
       # $(TOP)/Physics/HelicityAmplitude//HelicityAmplitude
        : : ;
        

exe cx0testApp : 
        CX0TestApp.cpp 
        test
        : ;
        
exe treetestApp : 
        TreeTestApp.cpp 
        test
        $(TOP)/Core//ComPWA
        : ;
        
exe dataiftestApp : 
        DataIFTestApp.cpp 
        test
        $(TOP)/Core//ComPWA
        $(TOP)/DataReader/RootReader//RootReader
        : ;

if $(GENEVA) { 
exe optimizertestApp : 
        OptimizerTestApp.cpp
        test
        $(TOP)/Core//ComPWA
        $(TOP)/DataReader/RootReader//RootReader
        $(TOP)/Estimator/MinLogLH//MinLogLH
        $(TOP)/Optimizer/Minuit2//Minuit2IF
        $(TOP)/Optimizer/Geneva//GenevaIF
        : ;
} else {
exe optimizertestApp : 
        MinuitTestApp.cpp
        test
        $(TOP)/Core//ComPWA
        $(TOP)/Estimator/MinLogLH//MinLogLH
        $(TOP)/Optimizer/Minuit2//Minuit2IF
        $(TOP)/DataReader/RootReader//RootReader
        : ;
}

exe physicstestApp : 
        PhysicsTestApp.cpp 
        test
        $(TOP)/Core//ComPWA
        $(TOP)/Physics/BreitWigner//BreitWigner
        : ;
        
exe estimatortestApp : 
        EstimatorTestApp.cpp 
        test
        $(TOP)/Core//ComPWA
        $(TOP)/Estimator/MinLogLH//MinLogLH
        $(TOP)/Estimator/ChiOneD//ChiOneD
        $(TOP)/Physics/BreitWigner//BreitWigner
        $(TOP)/DataReader/RootReader//RootReader
        : ;
        
#exe integrationtestApp : 
#        IntegrationTestApp.cpp
#        test
#        $(TOP)/Core//ComPWA
#        $(TOP)/Estimator/MinLogLH//MinLogLH
#        $(TOP)/Physics/BreitWigner//BreitWigner
#        $(TOP)/DataReader/RootReader//RootReader
#        $(TOP)/Optimizer/Minuit2//Minuit2IF
#        : ;
        
#exe integrationtestbinnedApp : 
#        IntegrationTestBinnedApp.cpp 
#        test
#        $(TOP)/Core//ComPWA
#        $(TOP)/Estimator/ChiOneD//ChiOneD 
#        $(TOP)/Physics/BreitWigner//BreitWigner   
#        $(TOP)/DataReader/RootReader//RootReader
#        $(TOP)/Optimizer/Minuit2//Minuit2IF
#        : ;
        
exe runmanagertestApp : 
        RunManagerTestApp.cpp 
        test
        $(TOP)/Core//ComPWA
        $(TOP)/Estimator/MinLogLH//MinLogLH 
        $(TOP)/Physics/BreitWigner//BreitWigner   
        $(TOP)/DataReader/RootReader//RootReader
        $(TOP)/Optimizer/Minuit2//Minuit2IF
        : ;

#exe openMPTestApp 
#	: OpenMPTestApp.cpp  
#	  test 
#        $(TOP)/Core//ComPWA
#        $(TOP)/Physics/AmplitudeSum//AmplitudeSum
#        $(TOP)/Physics/DPKinematics//DPKinematics
#        $(TOP)/DataReader/RootReader//RootReader
#        $(TOP)/Optimizer//Optimizer
#        $(TOP)/Estimator/MinLogLH//MinLogLH
#        $(TOP)/Optimizer/Minuit2//Minuit2IF
#	: <library>/gsl 
#	  <library>/root
#	  #<cxxflags>-fopenmp
#	;

exe iteratorApp : 
        IteratorTestApp.cpp 
        test
        $(TOP)/Core//ComPWA
        : ;

install dist 
	: test 
	: <threading>single
	  <location>$(TOP)/lib ;
        
install dist2 
	: treetestApp 
	  dataiftestApp 
	  optimizertestApp 
	  physicstestApp 
	  estimatortestApp 
	  #integrationtestApp 
	  #integrationtestbinnedApp 
	  runmanagertestApp 
	  #openMPTestApp
	  iteratorApp
	: <threading>single
	  <location>$(TOP)/bin ;

