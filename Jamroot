########### ComPWA Jamroot #############

import os ;
path-constant BOOST_BUILD_PATH : [ os.environ BOOST_BUILD_PATH ] ; 
local GENEVA = [ os.environ GENEVA ] ;
path-constant MINUIT2 : [ os.environ MINUIT2 ] ;
path-constant ROOTSYS : [ os.environ ROOTSYS ] ;
path-constant ROOTINC : [ os.environ ROOTINCLUDE ] ;
path-constant TOP : . ;

#### Optional Modules ####
if $(GENEVA) { 
  echo "Geneva is used!" ;
  path-constant GENEVA : [ os.environ GENEVA ] ;
 }

####  End Check Opt   ####

BOOSTLIBS = -lboost_date_time -lboost_filesystem -lboost_program_options -lboost_regex -lboost_serialization -lboost_system -lboost_thread -lboost_test_exec_monitor -L$(BOOST_BUILD_PATH)/lib ;

echo "Boost-Libs:" ;
echo $(BOOSTLIBS) ;

echo "Boost-Build:" ;
echo $(BOOST_BUILD_PATH) ;

echo "Rootsys:" ;
echo $(ROOTSYS) ;

lib Minuit2 : : <file>$(MINUIT2)/lib/libMinuit2.so : : ;
if $(GENEVA) { 
  lib Geneva : :  <file>$(GENEVA)/lib/libgeneva-all.so : : ;
  lib GemCom : :  <file>$(GENEVA)/lib/libgemfony-common.so : : ;
  lib GemCou : :  <file>$(GENEVA)/lib/libgemfony-courtier.so : : ;
  lib GemInd : :  <file>$(GENEVA)/lib/libgemfony-geneva-individuals.so : : ;
  lib GemGen : :  <file>$(GENEVA)/lib/libgemfony-geneva.so : : ;
  lib GemHap : :  <file>$(GENEVA)/lib/libgemfony-hap.so : : ;
}
#lib HepMc : : <file>$(extern)/lib/libHepMC.so : : ;

build-project DIFRoot2Part ; 
build-project PIFBW ;
build-project EIFChiOneD ;
build-project OIFMinuit2 ;
if $(GENEVA) { 
  build-project OIFGeneva ;
}
build-project test ;
