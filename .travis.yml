dist: trusty
sudo: true
language: cpp
compiler:
    - g++

before_install:
    - echo "Before installation"
    - sudo apt-get update -qq
    - sudo apt-get install -y libboost-all-dev libgsl0-dev
    # ROOT package that is shipped with Ubuntu 14.04 does not include Minuit2
    # so we have to download the binaries directly
    #- sudo apt-get install -y root-system libroot-math-minuit-dev root-plugin-math-minuit2
    - wget https://root.cern.ch/download/root_v5.34.36.Linux-ubuntu14-x86_64-gcc4.8.tar.gz
    - tar xpvfz root_v5.34*
    - cd root
    - source bin/thisroot.sh
    - cd ..
    - pwd

install:
    - echo "Installation"
    - lsb_release
    - uname -a
    - cd ComPWA/ComPWA; ls
    - mkdir build
    - cd build

before_script:
    - export OMP_NUM_THREADS=1

script:
    - cmake ..
    - make -j4 VERBOSE=1

branches:
    only:
        - master
    env:
        - LANG="en_US.UTF-8"
    os:
        - linux
