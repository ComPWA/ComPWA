########### DPKinematics lib #############
import os ;
local GSL = [ os.environ GSL_ROOT ] ;

#ROOTLIBS = -lCore -lCint -lRIO -lNet -lHist -lGraf -lGraf3d -lGpad -lTree -lRint -lPostscript -lMatrix -lPhysics -lMathCore -lThread -lpthread  -lm -ldl ;
local rlibs = [ SHELL "$ROOTSYS/bin/root-config --libs" ] ;
ROOTLIBS = [ MATCH "(.*)[\n]" : $(rlibs) ] ;

project :
	requirements
	    <include>$(GSL)/include
	    <include>$(ROOT_INC_PATH)
	#<linkflags>-L$(ROOTSYS)/lib 
	<linkflags>-L$(ROOT_LIB_PATH) 
	<linkflags>$(ROOTLIBS)
	<linkflags>-L$(GSL)/lib
	<linkflags>-lgsl 
	<linkflags>-lgslcblas
	;

make libDPKinematicsDict.cpp : SimpleEfficiency.hpp libDPKinematicsLinkDef.hpp : @genDict ;
actions genDict
{
    rootcint -f $(<) -c -I$(COMPWA) -I$(ROOT_INC_PATH) $(>)
}

lib DPKinematics : 
        [ glob *.cpp ]
        libDPKinematicsDict.cpp
        $(TOP)/Core//ComPWA
        ; 

install dist : DPKinematics : <location>$(TOP)/lib ;
