########### DPKinematics lib #############

local rlibs = [ SHELL "$ROOTSYS/bin/root-config --libs" ] ;
ROOTLIBS = [ MATCH "(.*)[\n]" : $(rlibs) ] ;

#project :	requirements
#	<include>$(ROOT_INC_PATH)
#	<linkflags>-L$(ROOT_LIB_PATH) 
#	<linkflags>$(ROOTLIBS)
#	;

#the dictionary file are generated in bin/<version>/<release>/. 
#The path of the SimpleEfficiency.hpp must be adjusted in libDPKinematicsDict.h!
make libDPKinematicsDict.cpp : SimpleEfficiency.hpp libDPKinematicsLinkDef.hpp : @genDict ;
actions genDict
{
	echo "Generating root dictionary for DPKinematics..." ;
	rootcint -f $(<) -c $(>)
}

lib DPKinematics : [ glob *.cpp ] libDPKinematicsDict.cpp  
	: <include>$(ROOT_INC_PATH)
		<linkflags>$(ROOTLIBS)
		<linkflags>-lEG
     ; 

install dist : DPKinematics : <location>$(TOP)/lib ;