########### AmplitudeSum lib #############
import os ;

local BOOST_ROOT = [ os.environ BOOST_ROOT ] ;
local QFT = [ os.environ QFT ] ;
local MINUIT2 = [ os.environ MINUIT2 ] ;

BOOSTLIBS = -lboost_date_time -lboost_filesystem -lboost_program_options -lboost_regex -lboost_serialization -lboost_system -lboost_thread -lboost_test_exec_monitor ;



local rlibs = [ SHELL "$ROOTSYS/bin/root-config --libs" ] ;
ROOTLIBS = [ MATCH "(.*)[\n]" : $(rlibs) ] ;

project :
	requirements
        <include>$(TOP)/external/qft++/include
        <include>$(ROOTINC)
        <include>$(QFT)/include
	    <include>$(BOOST_ROOT)/include
	    <include>$(MINUIT2)/include
	    <include>/opt/local/include
	<linkflags>-L$(BOOST_ROOT)/lib 
	<linkflags>-L$(QFT)/lib
	<linkflags>-lqft++
	<linkflags>$(BOOSTLIBS)
	<linkflags>-L/opt/local/lib
	<linkflags>-lgsl
	;

lib AmplitudeSum2 : 
        [ glob *.cpp : *Test.cpp ] 
        $(TOP)/Core//ComPWA
        $(TOP)/Estimator/MinLogLH//MinLogLH 
        $(TOP)/Optimizer/Minuit2//Minuit2IF
        $(PHYSICS)/DPKinematics//DPKinematics
        #: <link>static 
;

install dist : AmplitudeSum2 : <location>$(TOP)/lib ;
